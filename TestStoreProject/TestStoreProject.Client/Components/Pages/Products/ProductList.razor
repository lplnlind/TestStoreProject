@page "/products"
@inject HttpClient Http

<MudGrid class="mt-10">
    <MudItem lg="3">
        <MudCard Class="rounded-xl pa-2">
            <MudCardMedia Class="rounded-xl" Image="https://localhost:7207/images/products/door.jpg" Height="200" />
            <MudCardContent>
                <MudStack Row AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                    <MudText Typo="Typo.h5">اوستا کیف</MudText>
                    <MudIconButton Class="pa-1" Icon="@Icons.Material.Outlined.FavoriteBorder" Color="Color.Secondary" Size="Size.Small" aria-label="add to favorite" />
                </MudStack>
                <MudText Typo="Typo.body2">سایز: متوسط | جنس: چرم مصنوعی</MudText>
            </MudCardContent>
            <MudCardActions Class="pt-0 justify-space-between">
                <MudButton Class="ro rounded-xl" Variant="Variant.Text" Color="Color.Primary">اضافه کردن به سبد</MudButton>
                <MudStack Row AlignItems="AlignItems.Center" Spacing="1">
                    @* <MudText Inline="true">@(("500").En2Fa())</MudText> *@
                    <MudText Inline="true" typo="Typo.h5">@(("50").En2Fa())</MudText>
                    <MudText Inline="true" Typo="Typo.caption">تومان</MudText>
                </MudStack>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>


@code {
    private int a = 50;
    List<ProductDto>? products;

    protected override async Task OnInitializedAsync()
    {
        products = await Http.GetFromJsonAsync<List<ProductDto>>("api/products");
    }

    public class ProductDto
    {
        public int Id { get; set; }
        public string Name { get; set; } = string.Empty;
        public decimal Price { get; set; }
        public int CategoryId { get; set; }
    }
}
